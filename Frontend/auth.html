<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindfulMate - Login or Sign Up</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <meta name="google-signin-client_id" content="YOUR_GOOGLE_CLIENT_ID.apps.googleusercontent.com">
</head>
<body class="auth-body">
    <div class="auth-container">
        <div class="auth-header">
            <div class="logo">
                <i class="fas fa-brain"></i>
                <span>MindfulMate</span>
            </div>
            <h1>Your Mental Wellness Companion</h1>
        </div>

        <div class="auth-forms">
            <!-- Login Form -->
            <div class="auth-form-container active" id="login-form">
                <h2>Login to Your Account</h2>
                <div class="social-login">
                    <button class="btn-social google-btn" onclick="loginWithGoogle()">
                        <i class="fab fa-google"></i> Continue with Google
                    </button>
                    <button class="btn-social facebook-btn" onclick="loginWithFacebook()">
                        <i class="fab fa-facebook-f"></i> Continue with Facebook
                    </button>
                </div>
                <div class="divider">
                    <span>or</span>
                </div>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="login-email">Email</label>
                        <input type="email" id="login-email" placeholder="Enter your email" required>
                        <div class="error-message" id="login-email-error"></div>
                    </div>
                    <div class="form-group">
                        <label for="login-password">Password</label>
                        <input type="password" id="login-password" placeholder="Enter your password" required>
                        <div class="error-message" id="login-password-error"></div>
                    </div>
                    <div class="form-options">
                        <label>
                            <input type="checkbox" id="remember-me"> Remember me
                        </label>
                        <a href="#" id="forgot-password">Forgot password?</a>
                    </div>
                    <button type="submit" class="form-submit">Login</button>
                </form>
                <div class="auth-switch">
                    Don't have an account? <a href="#" id="switch-to-register">Sign Up</a>
                </div>
            </div>

            <!-- Register Form -->
            <div class="auth-form-container" id="register-form">
                <h2>Create an Account</h2>
                <div class="social-login">
                    <button class="btn-social google-btn" onclick="loginWithGoogle()">
                        <i class="fab fa-google"></i> Continue with Google
                    </button>
                    <button class="btn-social facebook-btn" onclick="loginWithFacebook()">
                        <i class="fab fa-facebook-f"></i> Continue with Facebook
                    </button>
                </div>
                <div class="divider">
                    <span>or</span>
                </div>
                <form id="registerForm">
                    <div class="form-group">
                        <label for="register-name">Name</label>
                        <input type="text" id="register-name" placeholder="Enter your Name" required>
                        <div class="error-message" id="register-name-error"></div>
                    </div>
                    <div class="form-group">
                        <label for="register-email">Email</label>
                        <input type="email" id="register-email" placeholder="Enter your email" required>
                        <div class="error-message" id="register-email-error"></div>
                    </div>
                    <div class="form-group">
                        <label for="register-password">Password</label>
                        <input type="password" id="register-password" placeholder="Create a password" required>
                        <div class="error-message" id="register-password-error"></div>
                    </div>
                    <div class="form-group">
                        <label for="register-confirm-password">Confirm Password</label>
                        <input type="password" id="register-confirm-password" placeholder="Confirm your password" required>
                        <div class="error-message" id="register-confirm-password-error"></div>
                    </div>
                    <div class="form-options">
                        <label>
                            <input type="checkbox" id="terms-agree" required> I agree to the <a href="#" id="show-terms">Terms & Conditions</a>
                        </label>
                    </div>
                    <button type="submit" class="form-submit">Sign Up</button>
                </form>
                <div class="auth-switch">
                    Already have an account? <a href="#" id="switch-to-login">Login</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Terms & Conditions Modal -->
    <div class="modal" id="termsModal">
        <div class="modal-content modal-lg">
            <span class="close-modal" onclick="closeModal('termsModal')">&times;</span>
            <h2>Terms & Conditions</h2>
            <div class="terms-content">
                <h3>Purpose of the Service</h3>
                <p>This AI Copilot offers friendly mental wellness support, emotional guidance, and general self-care tips. It is designed to be a companionâ€”not a clinician.</p>
                
                <h3>Not a Medical Professional</h3>
                <p>The Copilot is not a licensed therapist, psychologist, or doctor. It does not diagnose, treat, or prescribe for any mental health condition.</p>
                
                <h3>No Emergency Support</h3>
                <p>This service is not suitable for crisis situations. If you are in danger or need urgent help, please contact emergency services or a qualified mental health professional.</p>
                
                <h3>User Responsibility</h3>
                <p>All advice and suggestions are informational only. Users are responsible for their own decisions and should consult professionals for medical or psychological care.</p>
                
                <h3>Respectful Use</h3>
                <p>Users must engage respectfully and not use the Copilot for harmful, abusive, or illegal activities. Misuse may result in access restrictions.</p>
                
                <h3>Privacy & Data Use</h3>
                <p>Conversations may be stored to improve service quality. No personal data is sold or misused. Refer to our Privacy Policy for full details.</p>
                
                <h3>Intellectual Property</h3>
                <p>All content, design, and technology are protected by copyright and intellectual property laws. Reproduction or redistribution is prohibited without permission.</p>
                
                <h3>Acceptance of Terms</h3>
                <p>By using this service, you agree to these Terms & Conditions and acknowledge the Disclaimer. Continued use implies acceptance of any future updates.</p>
            </div>
            <button class="btn btn-primary" onclick="closeModal('termsModal')">I Understand</button>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Auth page specific JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            // Switch between login and register forms
            document.getElementById('switch-to-register').addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('login-form').classList.remove('active');
                document.getElementById('register-form').classList.add('active');
            });
            
            document.getElementById('switch-to-login').addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('register-form').classList.remove('active');
                document.getElementById('login-form').classList.add('active');
            });
            
            // Show terms modal
            document.getElementById('show-terms').addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('termsModal').style.display = 'flex';
            });
            
            // Form validation and submission
            document.getElementById('loginForm').addEventListener('submit', function(e) {
                e.preventDefault();
                if (validateLoginForm()) {
                    // Simulate login process
                    const email = document.getElementById('login-email').value;
                    localStorage.setItem('userEmail', email);
                    localStorage.setItem('isLoggedIn', 'true');
                    window.location.href = 'index.html';
                }
            });
            
            document.getElementById('registerForm').addEventListener('submit', function(e) {
                e.preventDefault();
                if (validateRegisterForm()) {
                    // Simulate registration process
                    const email = document.getElementById('register-email').value;
                    localStorage.setItem('userEmail', email);
                    localStorage.setItem('isLoggedIn', 'true');
                    window.location.href = 'index.html';
                }
            });
        });
        
        function validateLoginForm() {
            let isValid = true;
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            // Reset error messages
            document.getElementById('login-email-error').textContent = '';
            document.getElementById('login-password-error').textContent = '';
            
            // Email validation
            if (!email) {
                document.getElementById('login-email-error').textContent = 'Email is required';
                isValid = false;
            } else if (!isValidEmail(email)) {
                document.getElementById('login-email-error').textContent = 'Please enter a valid email address';
                isValid = false;
            }
            
            // Password validation
            if (!password) {
                document.getElementById('login-password-error').textContent = 'Password is required';
                isValid = false;
            } else if (password.length < 6) {
                document.getElementById('login-password-error').textContent = 'Password must be at least 6 characters';
                isValid = false;
            }
            
            return isValid;
        }
        
        function validateRegisterForm() {
            let isValid = true;
            const name = document.getElementById('register-name').value;
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            const confirmPassword = document.getElementById('register-confirm-password').value;
            
            // Reset error messages
            document.getElementById('register-name-error').textContent = '';
            document.getElementById('register-email-error').textContent = '';
            document.getElementById('register-password-error').textContent = '';
            document.getElementById('register-confirm-password-error').textContent = '';
            
            // Name validation
            if (!name) {
                document.getElementById('register-name-error').textContent = 'Name is required';
                isValid = false;
            }
            
            // Email validation
            if (!email) {
                document.getElementById('register-email-error').textContent = 'Email is required';
                isValid = false;
            } else if (!isValidEmail(email)) {
                document.getElementById('register-email-error').textContent = 'Please enter a valid email address';
                isValid = false;
            }
            
            // Password validation
            if (!password) {
                document.getElementById('register-password-error').textContent = 'Password is required';
                isValid = false;
            } else if (password.length < 6) {
                document.getElementById('register-password-error').textContent = 'Password must be at least 6 characters';
                isValid = false;
            }
            
            // Confirm password validation
            if (password !== confirmPassword) {
                document.getElementById('register-confirm-password-error').textContent = 'Passwords do not match';
                isValid = false;
            }
            
            // Terms agreement validation
            if (!document.getElementById('terms-agree').checked) {
                alert('You must agree to the Terms & Conditions');
                isValid = false;
            }
            
            return isValid;
        }
        
        function isValidEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }
        
        function loginWithGoogle() {
            // Simulate Google login
            alert('Google login would be implemented here. Redirecting to main page.');
            localStorage.setItem('userEmail', 'google-user@example.com');
            localStorage.setItem('isLoggedIn', 'true');
            window.location.href = 'index.html';
        }
        
        function loginWithFacebook() {
            // Simulate Facebook login
            alert('Facebook login would be implemented here. Redirecting to main page.');
            localStorage.setItem('userEmail', 'facebook-user@example.com');
            localStorage.setItem('isLoggedIn', 'true');
            window.location.href = 'index.html';
        }
        
        function handleCredentialResponse(response) {
            console.log("Encoded JWT ID token: " + response.credential);
            // Decode the JWT and use the user information
        }

        window.onload = function () {
            google.accounts.id.initialize({
                client_id: "YOUR_CLIENT_ID.apps.googleusercontent.com",
                callback: handleCredentialResponse
            });
            google.accounts.id.renderButton(
                document.getElementById("g_id_signin"),
                { theme: "outline", size: "large" } // Customize button
            );
            google.accounts.id.prompt(); // Automatically prompt login
        };

        function onGoogleSignIn(googleUser) {
            const profile = googleUser.getBasicProfile();
            console.log('ID: ' + profile.getId());
            console.log('Name: ' + profile.getName());
            console.log('Image URL: ' + profile.getImageUrl());
            console.log('Email: ' + profile.getEmail());

            // Redirect or perform actions after successful login
            alert('Welcome ' + profile.getName());
        }

        function signOut() {
            const auth2 = gapi.auth2.getAuthInstance();
            auth2.signOut().then(function () {
                console.log('User signed out.');
            });
        }
    </script>

    <div id="g_id_onload"
         data-client_id="YOUR_CLIENT_ID.apps.googleusercontent.com"
         data-context="signin"
         data-ux_mode="popup"
         data-login_uri="YOUR_REDIRECT_URI"
         data-auto_prompt="false">
    </div>
    <div class="g_id_signin" data-type="standard"></div>
</body>
</html>